<app-header></app-header>
<main class="main-content">

  <p-table #cityTable [value]="cityList" dataKey="id" [rowHover]="true" [rows]="10" [showCurrentPageReport]="true"
    [rowsPerPageOptions]="[10, 25 ,50, 100, 10000]" [loading]="loading" responsiveLayout="scroll" [paginator]="true"
    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [filterDelay]="0"
    [globalFilterFields]="['name','state']">
    <ng-template pTemplate="caption">
      <div class="table-header">
        List of Cities
        <span class="p-input-icon-left" style="margin-left: 10rem">
          <input #filterInput pInputText type="text" (input)="cityTable.filterGlobal(filterInput.value, 'contains')"
            placeholder="Global Search" />
        </span>
      </div>
    </ng-template>
    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="id">
          <div class="flex justify-content-between align-items-center">
            Id
            <p-sortIcon field="id"></p-sortIcon>
          </div>
        </th>
        <th pSortableColumn="name">
          <div class="flex justify-content-between align-items-center">
            Name
            <p-sortIcon field="name"></p-sortIcon>
          </div>
        </th>
        <th pSortableColumn="population">
          <div class="flex justify-content-between align-items-center">
            Population
            <p-sortIcon field="population"></p-sortIcon>
          </div>
        </th>
        <th pSortableColumn="state">
          <div class="flex justify-content-between align-items-center">
            State
            <p-sortIcon field="state"></p-sortIcon>
          </div>
        </th>
        <th style="width:6rem;">
          <div class="flex justify-content-between align-items-center">
            Action
          </div>
        </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-city>
      <tr class="p-selectable-row">
        <td>
          <span class="p-column-title">Id</span>
          {{city.id}}
        </td>
        <td>
          <span class="p-column-title">Name</span>
          {{city.name}}
        </td>
        <td>
          <span class="p-column-title">Population</span>
          {{city.population}}
        </td>
        <td>
          <span class="p-column-title">State</span>
          {{city.state}}
        </td>
        <td style="display: flex; justify-content: space-between;">
          <button (click)="handleEdit(city.id)" pButton type="button" title="edit" icon="pi pi-pencil"
            class="p-button-rounded p-button-warning" style="height: 1rem; width: 1.6rem;">
          </button>
          <button (click)="handleDelete(city.id)" pButton type="button" title="delete" icon="pi pi-trash"
            class="p-button-rounded p-button-danger" style="height: 1rem; width: 1.6rem;">
          </button>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="6">No city found.</td>
      </tr>
    </ng-template>
  </p-table>

</main>
<app-footer></app-footer>
